<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Application</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        /* style.css */

        /* Style de base pour le corps de la page */
        body {
            margin: 0;
            font-family: sans-serif;
            background-color: #fff;
        }

        /* Conteneur principal du preloader */
        .preloader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #f8f8fa;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.75s, visibility 0.75s;
        }

        /* Classe ajoutée par JS pour cacher le preloader */
        .preloader-hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* L'anneau qui tourne (le spinner) */
        .spinner-wrapper {
            position: relative;
            /* permet au logo d'être centré par rapport au spinner */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .spinner {
            width: 150px;
            height: 150px;
            border: 1px solid rgba(114, 20, 72, 0.2);
            border-top-color: #e63946;
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
        }



        /* Le logo au centre */

        .preloader-logo {
            position: absolute;
            width: 70px;
            height: auto;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* Le contenu principal de la page (optionnel, pour la démo) */
        .main-content {
            padding: 2rem;
            text-align: center;
        }
    </style>
</head>

<body>

    <div class="preloader-container">
        <div class="spinner-wrapper">
            <div class="spinner"></div>
            <img src="assets/images/logo_reverse.png" class="preloader-logo" alt="Logo de chargement">
        </div>
    </div>

    <div class="main-content">
        <h1>Bienvenue sur ma page !</h1>
        <p>Le contenu de l'application s'affiche ici une fois le chargement terminé.</p>
    </div>
    <!-- <script src="script.js"></script> -->
    <script>
        // script.js
        document.addEventListener("DOMContentLoaded", () => {
            const preloader = document.querySelector(".preloader-container");

            // Définir la durée minimale d'affichage en millisecondes
            // 2500ms = 2.5 secondes. Vous pouvez ajuster cette valeur.
            const minDisplayTime = 3500;

            // Récupérer l'heure de début
            const startTime = new Date().getTime();

            // Fonction pour cacher le preloader
            const hidePreloader = () => {
                const endTime = new Date().getTime();
                const elapsedTime = endTime - startTime;

                // Calculer le temps d'attente restant pour atteindre la durée minimale
                const timeToWait = Math.max(0, minDisplayTime - elapsedTime);

                setTimeout(() => {
                    if (preloader) {
                        preloader.classList.add("preloader-hidden");
                    }
                }, timeToWait);
            };

            // Écouter l'événement 'load' qui se déclenche quand TOUT (images incluses) est chargé
            window.addEventListener("load", hidePreloader);
        });
    </script>
</body>

</html>
